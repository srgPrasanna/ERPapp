<dom-module id="check-autogenid">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <p hidden>{{stringname}}</p>
    <p hidden>{{elementname}}</p>
    <iron-ajax
      id="autogen"
      method="post"
      url="http://localhost:4000/autogenerateid"
      handle-as="json"
      on-response="responseFn">
    </iron-ajax>
  </template>
  <script type="text/javascript">
    Polymer({
      is: "check-autogenid",
    responseFn:function(e){
      var getid=e.detail.response.returnid;
      var id=this.stringname+getid;
      var name=this.elementname;
      document.querySelector(name).save(id);
    },
    call:function(){
      this.$.autogen.generateRequest();
    }
    });
  </script>
</dom-module>
